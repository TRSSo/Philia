import{GroupMessage,PrivateMessage}from"../message/message.js";export default class Handle{client;static event=[{type:`message`,scene:`user`},{type:`message`,scene:`group`}].map(e=>({...e,handle:`${e.type}.${e.scene||``}`}));constructor(e){this.client=e}async"message.user"(e){let n=await PrivateMessage.deserialize(this.client,e);this.client.logger.info(`用户消息 [${n.nickname}(${n.user_id})] ${n.raw_message}`),this.client.em(`message.private.friend`,n)}async"message.group"(t){let n=await GroupMessage.deserialize(this.client,t);this.client.logger.info(`群消息 [${n.group_name}(${n.group_id}), ${n.nickname}(${n.user_id})] ${n.raw_message}`),this.client.em(`message.group.normal`,n)}}