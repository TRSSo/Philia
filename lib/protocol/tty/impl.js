import fs from"node:fs/promises";import*as Philia from"#project/project/philia.js";import{EventHandle}from"#protocol/common";import*as Convert from"./convert/index.js";export default class Impl{logger;handle=new Convert.API(this);philia;event_handle;path=process.cwd();self={id:`tty`,name:`终端`};user={id:`tty_user`,name:`终端用户`};group={id:`tty_group`,name:`终端`};event_message_map=new Map;event_request_map=new Map;constructor(e,i){this.logger=e,this.philia=new Philia.Project(i,this.handle),this.event_handle=new EventHandle(this.philia)}async start(){return await Promise.all([`Data`,`Temp`].map(r=>fs.mkdir(r,{recursive:!0}))),this.philia.start()}}