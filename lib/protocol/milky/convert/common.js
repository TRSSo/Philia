export var MessageScene;(function(e){e[e.friend=0]=`friend`,e[e.group=1]=`group`,e[e.temp=2]=`temp`})(MessageScene||={});export function encodeMessageID(r,i,a){let o=Buffer.allocUnsafe(9);return o.writeUint8(MessageScene[r]),o.writeUint32BE(i,1),o.writeUint32BE(a,5),o.toString(`base64url`)}export function decodeMessageID(r){let i=Buffer.from(r,`base64url`);return{message_scene:MessageScene[i.readUint8()],peer_id:i.readUint32BE(1),message_seq:i.readUint32BE(5)}}export function encodeFileID(e,r,i){let a;return e===0?(a=Buffer.allocUnsafe(1),a.writeUint8(e)):(a=Buffer.allocUnsafe(5),a.writeUint8(e),a.writeUint32BE(i,1)),`${a.toString(`base64url`)}|${r}`}export function decodeFileID(e){let r=e.match(/^([A-Za-z0-9-_]+)\|/);if(!r)return{scene:0,id:e};let i=Buffer.from(r[1],`base64url`),a=i.readUint8();return{scene:a,id:e.replace(r[0],``),peer_id:a===0?void 0:i.readUint32BE(1)}}export function encodeRequestID(e,r){return`${e}|${r}`}export function decodeRequestID(e){let r=e.match(/^(\d+)\|/);if(!r)throw Error(`无法解析的请求ID`);return{scene:+r[0],id:e.replace(r[0],``)}}