import{ulid}from"ulid";import{makeLogger}from"#logger";import{Manager}from"../manager/index.js";import*as Philia from"./philia.js";export class Project{config;logger;manager;constructor(e){this.config=e,this.verifyConfig(),this.verifyPhiliaConfig(),this.config.logger&&(this.config.philia.logger??=this.config.logger),this.manager=new Manager(this,e.manager),this.logger=makeLogger(e.name,e.logger?.level,e.logger?.inspect)}verifyPhiliaConfig(){new Philia.Project(this.config.philia)}static async createConfig(i){return{id:ulid(),name:i,philia:await Philia.Project.createConfig(`Impl`)}}}